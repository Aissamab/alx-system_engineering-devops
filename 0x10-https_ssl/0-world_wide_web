#!/bin/bash

# Function to display DNS information for a specific subdomain
display_subdomain_info() {
    local domain="$1"
    local subdomain="$2"
    
    # Query DNS information for the subdomain
    dig_output=$(dig "$subdomain.$domain" | awk '/^;; ANSWER SECTION:$/,/^$/')
    
    # Parse the dig output to get the record type and destination
    record_type=$(echo "$dig_output" | awk '/IN\s+[A-Z]+/ {print $4}')
    destination=$(echo "$dig_output" | awk '/IN\s+A/ {print $5}')
    
    # Display the information
    echo "The subdomain $subdomain is a $record_type record and points to $destination"
}

# Main script

# Check if both domain and subdomain are provided
if [ $# -eq 2 ]; then
    domain="$1"
    subdomain="$2"
    display_subdomain_info "$domain" "$subdomain"
else
    # If only domain is provided, display information for default subdomains
    domain="$1"
    display_subdomain_info "$domain" "www"
    display_subdomain_info "$domain" "lb-01"
    display_subdomain_info "$domain" "web-01"
    display_subdomain_info "$domain" "web-02"
fi

